10REM27/03/2020-10h27
20DEFFNALEA(X)=INT(RND(PEEK(78)+PEEK(79)*256)*X+1)
30GOTO370
50TM%=TM%+1.
60IFTM%=10THENTM%=0:TH%=TH%+1
70RETURN
80CX%=PEEK(36):CY%=PEEK(37):HTAB1:VTAB1:?"HOUR:";TH%;"  DAY:";TD%;"  MONTH:";TM%;"  YEAR:";TY%;"   ":HTABCX%:VTABCY%
90RETURN
110RETURN
130RETURN
150IFPEEK(-16384)<127THENGOTO330
160KH%=PEEK(49152):POKE-16368,0
170IFKH%>=128THENKH%=KH%-128
180IFKH%>=32THENVTAB4:HTAB1:?CHR$(KH%);
190IFCHR$(KH%)="Q"THENCM%=0
200J%=UY%:I%=UX%
210IFCHR$(KH%)="I"THENJ%=UY%-1:GOTO270
220IFCHR$(KH%)="K"THENJ%=UY%+1:GOTO270
230IFCHR$(KH%)="J"THENI%=UX%-1:GOTO270
240IFCHR$(KH%)="L"THENI%=UX%+1:GOTO270
250GOTO330
270IF(J%<=US%)OR(J%>(MH%-US%))THEN?CHR$(7):GOTO330
280IF(I%<=US%)OR(I%>(MW%-US%))THEN?CHR$(7):GOTO330
290UX%=I%:UY%=J%
300FORL=0TOUS%
310HTAB5:VTAB5+L:?MID$(MAP$(UY%+L),UX%-US%,US%+US%):NEXTL
330RETURN
350RETURN
370GOSUB750
380GOSUB540
390GOSUB510
410GOSUB50
420GOSUB130
430GOSUB150
440GOSUB110
450IFCM%=0THENGOTO490
460GOSUB350
470GOTO410
490END
510?"INTRO... ":?"> PRESS A KEY!":GETA$
520RETURN
540ET%=24*365*2:TM%=1:TH%=0:I%=0:J%=0:TN%=0:KH%=0:CM%=9999:DIMXI%(2,5),AI%(5),BI%(5),YN%(5)
550GOSUB600
560GOSUB670
570GOSUB700
580RETURN
600DIMMAP$(33):MW%=68:MH%=32:MAP$(0)="~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~":MAP$(1)="~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_.,-'=_.-'-._~~~~~~~~~~~~~~~~~~~~"
610MAP$(7)="~~~~~~~~~~~~~~~'-.                   ^  ^ ^  ^                ._'~~~~":MAP$(8)="~~~~~~~~~~~~~~~~~~'-._                 ^^ (           _.'-._,-'~~~~~~":MAP$(9)="~~~~~~~~~~~~~~~~~~~~~~'-._            ^  ^ )      _.-'~~~~~~~~~~~~~~~"
620MAP$(15)="~~~~~~~~~~~~~~~~~~~~~~~~~ _.-'           /                   _.'~~~~~":MAP$(16)="~~~~~~~~~~~~~~~~~~~~~~~~~'-._           /                   '-._-'-.~":MAP$(17)="~~~~~~~~~~~~~~~~~~~~~~~~~~~~~'-._      (                        _.-'~"
630MAP$(23)="~~~~~~~~~~~~~~_.'         _.-'-.-'~~~~~~~'.             _.'-.-'._  .'":MAP$(24)="~~~~~.-'=_.'-'         .-'~~~~~~~~~~___.-'          _.-'~~~~~~~~~'.'~":MAP$(25)="~~_.-'                 '-._,.-'._.-'               '_~~~~~~~~~~~~~~~~"
640MAP$(31)="~~~~~~~~~~~~~~~~~~~~~~~~~~'-_.'~~~~~~~~~~~~~~~'-._:'=~_.'~~~~~~~~~~~~":MAP$(32)="~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
650RETURN
670UX%=33:UY%=22:US%=3:UU$="&"
680RETURN
700XI%(0,0)=0:XI%(0,1)=0:XI%(0,2)=0:XI%(0,3)=0:XI%(0,4)=0:XI%(1,0)=0:XI%(1,1)=0:XI%(1,2)=0:XI%(1,3)=0:XI%(1,4)=0:AI%(0)=0:AI%(1)=0:AI%(2)=0:AI%(3)=0:AI%(4)=0:BI%(0)=0:BI%(1)=0:BI%(2)=0:BI%(3)=0:BI%(4)=0
710RETURN
720DIMEV%(20,1)
730RETURN
750HOME:&
760RETURN
